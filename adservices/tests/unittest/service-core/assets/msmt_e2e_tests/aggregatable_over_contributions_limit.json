{
  "description": "Given one source and two matching triggers, the first trigger does not generate an aggregate report because the sum of its values would exceed the per-source limit.",
  "input": {
    "sources": [{
      "registration_request": {
        "attribution_src_url": "https://www.ad-tech1.com",
        "source_origin": "android-app://example.1s1.com",
        "source_type": "navigation",
        "registrant": "example.1s1.com"
      },
      "responses": [{
        "url": "https://www.ad-tech1.com",
        "response": {
          "Attribution-Reporting-Register-Source": {
            "source_event_id": "1",
            "destination": "android-app://example.2d1.com",
            "priority": "100",
            "expiry": "172801",
            "filter_data": {
              "conversion_subdomain": ["electronics.megastore"],
              "product": ["1234", "234"],
              "ctid": ["id"]
            }
          },
          "Attribution-Reporting-Register-Aggregatable-Source": [
            {
              "id": "campaignCounts",
              "key_piece": "0x159"
            },
            {
              "id": "geoValue",
              "key_piece": "0x5"
            }
          ],
          "Location": null,
          "Attribution-Reporting-Redirect": null
        }
      }],
      "timestamp": "800000000001"
    }],
    "triggers": [
      {
        "registration_request": {
          "attribution_src_url": "https://www.ad-tech1.com",
          "destination_origin": "android-app://example.2d1.com",
          "registrant": "example.2d1.com"
        },
        "responses": [{
          "url": "https://www.ad-tech1.com",
          "response": {
            "Attribution-Reporting-Register-Event-Trigger": [{
              "trigger_data": "2",
              "priority": "101"
            }],
            "Attribution-Reporting-Register-Aggregatable-Trigger-Data": [
              {
                "key_piece": "0x400",
                "source_keys": ["campaignCounts"],
                "filters": {
                  "product": ["1234"],
                  "ctid": ["id"]
                },
                "not_filters":{
                  "product": ["100"]
                }
              },
              {
                "key_piece": "0xA80",
                "source_keys": ["geoValue", "nonMatch"]
              }
            ],
            "Attribution-Reporting-Register-Aggregatable-Values": {
              "campaignCounts": 32769,
              "geoValue": 32769
            },
            "Location": null,
            "Attribution-Reporting-Redirect": null
          }
        }],
        "timestamp": "800000000002"
      },
      {
        "registration_request": {
          "attribution_src_url": "https://www.ad-tech1.com",
          "destination_origin": "android-app://example.2d1.com",
          "registrant": "example.2d1.com"
        },
        "responses": [{
          "url": "https://www.ad-tech1.com",
          "response": {
            "Attribution-Reporting-Register-Event-Trigger": [{
              "trigger_data": "3",
              "priority": "101"
            }],
            "Attribution-Reporting-Register-Aggregatable-Trigger-Data": [
              {
                "key_piece": "0x400",
                "source_keys": ["campaignCounts"],
                "filters": {
                  "product": ["1234"],
                  "ctid": ["id"]
                },
                "not_filters":{
                  "product": ["100"]
                }
              },
              {
                "key_piece": "0xA80",
                "source_keys": ["geoValue", "nonMatch"]
              }
            ],
            "Attribution-Reporting-Register-Aggregatable-Values": {
              "campaignCounts": 32768,
              "geoValue": 1664
            },
            "Location": null,
            "Attribution-Reporting-Redirect": null
          }
        }],
        "timestamp": "800000000002"
      }
    ]
  },
  "output": {
    "event_level_results": [
      {
        "report_time": "800176400001",
        "report_url": "https://www.ad-tech1.com",
        "payload": {
          "attribution_destination": "android-app://example.2d1.com",
          "source_event_id": "1",
          "trigger_data": "2",
          "source_type": "navigation",
          "randomized_trigger_rate": 0.0024263
        }
      },
      {
        "report_time": "800176400001",
        "report_url": "https://www.ad-tech1.com",
        "payload": {
          "attribution_destination": "android-app://example.2d1.com",
          "source_event_id": "1",
          "trigger_data": "3",
          "source_type": "navigation",
          "randomized_trigger_rate": 0.0024263
        }
      }
    ],
    "aggregatable_results": [{
      "report_time": 800000000002,
      "report_url": "https://www.ad-tech1.com",
      "payload": {
        "attribution_destination": "android-app://example.2d1.com",
        "source_site": "android-app://example.1s1.com",
        "histograms": [
          {"key": "1369", "value": 32768},
          {"key": "2693", "value": 1664}
        ]
      }
    }]
  }
}
